
  
  
 
  
 


<!DOCTYPE html>


<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    
    <title>NCPA Installation &mdash; NCPA 0.6 documentation</title>
    
    <link rel="stylesheet" href="_static/basic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    <link rel="stylesheet" href="//netdna.bootstrapcdn.com/bootswatch/3.0.0/spacelab/bootstrap.min.css" type="text/css" />
    <link rel="stylesheet" href="_static/bootstrap-sphinx.css" type="text/css" />
    
    <script type="text/javascript">
      var DOCUMENTATION_OPTIONS = {
        URL_ROOT:    './',
        VERSION:     '0.6',
        COLLAPSE_INDEX: false,
        FILE_SUFFIX: '.html',
        HAS_SOURCE:  true
      };
    </script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script type="text/javascript" src="_static/js/jquery-1.9.1.min.js"></script>
    <script type="text/javascript" src="_static/js/jquery-fix.js"></script>
    <script type="text/javascript" src="_static/bootstrap-3.0.0/js/bootstrap.min.js"></script>
    <script type="text/javascript" src="_static/bootstrap-sphinx.js"></script>
    <link rel="top" title="NCPA 0.6 documentation" href="index.html" />
    <link rel="next" title="NCPA Configuration" href="configuration.html" />
    <link rel="prev" title="NCPA Documentation" href="index.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">

  </head>
  <body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="index.html">NCPA</a>
        <span class="navbar-text navbar-version pull-left"><b>0.6</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            <li class="divider-vertical"></li>
            
            
              <li class="dropdown globaltoc-container">
  <a href="index.html"
     class="dropdown-toggle"
     data-toggle="dropdown">Site <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
    ><ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="">NCPA Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="configuration.html">NCPA Configuration</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">Introduction to the API</a></li>
<li class="toctree-l1"><a class="reference internal" href="active.html">Active Checks</a></li>
<li class="toctree-l1"><a class="reference internal" href="passive.html">Passive Checks</a></li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown">Page <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"><ul>
<li><a class="reference internal" href="#">NCPA Installation</a><ul>
<li><a class="reference internal" href="#installing-ncpa-on-windows">Installing NCPA on Windows</a><ul>
<li><a class="reference internal" href="#graphical-install">Graphical Install</a></li>
<li><a class="reference internal" href="#silent-install">Silent Install</a></li>
</ul>
</li>
<li><a class="reference internal" href="#installing-ncpa-using-rpm-packing">Installing NCPA Using RPM Packing</a></li>
<li><a class="reference internal" href="#installing-ncpa-using-deb-packaging">Installing NCPA Using DEB Packaging</a></li>
<li><a class="reference internal" href="#testing-your-installation">Testing Your Installation</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
  <li><a href="index.html"
         title="Previous Chapter: NCPA Documentation">&laquo; NCPA Documentati...</a></li>
  <li><a href="configuration.html"
         title="Next Chapter: NCPA Configuration">NCPA Configurati... &raquo;</a></li>
              
            
            
            
            
              <li>
<div id="sourcelink">
  <a href="_sources/installation.txt"
     rel="nofollow">Source</a>
</div></li>
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="col-md-12">
      
  <div class="section" id="ncpa-installation">
<h1>NCPA Installation<a class="headerlink" href="#ncpa-installation" title="Permalink to this headline">¶</a></h1>
<p>NCPA is packaged for all of its target platforms, including Windows, Linux RPM and DEB packaging as well as tarballs for some of the less common operating systems. Packaging is the one portion of NCPA that cannot be truly platform agnostic. However, packaging for NCPA allows for quick and easy installation on all target platforms and this documentation will give examples and on how to install NCPA.</p>
<p>First and foremost, the following documentation is for a simple install. If you have a complex environment, you can and probably should skip these. What you should know however, is that there are no gotchas involved with installing NCPA.</p>
<div class="section" id="installing-ncpa-on-windows">
<h2>Installing NCPA on Windows<a class="headerlink" href="#installing-ncpa-on-windows" title="Permalink to this headline">¶</a></h2>
<p>First, download the installer to the machine that you wish to install NCPA onto. The NCPA installer can be found at <a class="reference external" href="http://assets.nagios.com/downloads/ncpa/ncpa-head.exe">NCPA&#8217;s Windows Installer link</a>.</p>
<div class="section" id="graphical-install">
<h3>Graphical Install<a class="headerlink" href="#graphical-install" title="Permalink to this headline">¶</a></h3>
<p>Navigate to the location that the install was downloaded, and double-click the installer. After agreeing to the license terms, you will find the configuration screen. This asks you to fill in some of the pertinent information.</p>
<img alt="_images/windows_installer.jpg" class="align-center" src="_images/windows_installer.jpg" />
<p>The first thing you will see is the Active Specifications section. <strong>NCPA can be used as an active agent by simply entering a token into the text box and clicking &#8220;Next.&#8221;</strong>  You must remember this token, and enter it when configuring the device within the Nagios interface.  If you are setting up the agent to send passive results back to Nagios, addtional information about its specifications, as well as the &#8220;Token&#8221; field are below.</p>
<dl class="glossary docutils">
<dt id="term-token">token</dt>
<dd>This is the token that the NCPA agent will use as its form of authentication. You will need this token when setting up Nagios to monitor this agent.</dd>
</dl>
<p>The following are absolutely not necessary to fill out to get an active agent up and running on your system. These are for specifying parameters for the passive agent.</p>
<dl class="glossary docutils">
<dt id="term-nrdp-url">NRDP URL</dt>
<dd>This is the URL that the NCPA passive agent will send its check results back to. This is not necessary if you simply want an active agent.</dd>
<dt id="term-hostname">Hostname</dt>
<dd>This is the hostname that the agent will report back to Nagios as.</dd>
<dt id="term-config-name">Config Name</dt>
<dd>This is the NRDS config name that the agent will request when contacting the NRDS server.</dd>
</dl>
</div>
<div class="section" id="silent-install">
<h3>Silent Install<a class="headerlink" href="#silent-install" title="Permalink to this headline">¶</a></h3>
<p>The installer also supports a silent install, which would definitely be handy if you&#8217;re a ninja systems admin! There are four specifications currently supported by the NCPA installer, which are all analogs to the directives in the GUI installer.</p>
<p>All of the following are to be used as such:</p>
<div class="highlight-python"><pre>/*directive* **value**</pre>
</div>
<p>while being used on the command line. The following are the names of the directives that are available for a silent install.</p>
<dl class="glossary docutils">
<dt id="term-nrdp">NRDP</dt>
<dd>This specifies the NRDP URL to use.</dd>
<dt id="term-5">TOKEN</dt>
<dd>The token that will be used to access the agent&#8217;s API and web interface.</dd>
<dt id="term-host">HOST</dt>
<dd>The host that the passive agent will report back as.</dd>
<dt id="term-config">CONFIG</dt>
<dd>The name of the NRDS config the agent will be associated with.</dd>
</dl>
<div class="admonition note">
<p class="first admonition-title">Note</p>
<p class="last">For both install methods, none of the values are set in stone and can easily be changed at a later date.</p>
</div>
<p>Now the NCPA services are installed and started.</p>
<p>To test your installation see <a class="reference internal" href="#testing-your-installation">Testing Your Installation</a>.</p>
</div>
</div>
<div class="section" id="installing-ncpa-using-rpm-packing">
<h2>Installing NCPA Using RPM Packing<a class="headerlink" href="#installing-ncpa-using-rpm-packing" title="Permalink to this headline">¶</a></h2>
<p>First thing that must be done is acquiring the RPM package. The latest RPM package can be found at <a class="reference external" href="http://assets.nagios.com/downloads/ncpa/ncpa.i386.rpm">NCPA&#8217;s RPM link</a>. Download this to <strong>the machine you would like to monitor</strong>, do not download this to your personal workstation or your Nagios server.</p>
<p>Using the command line it would look something like this:</p>
<div class="highlight-python"><pre>cd /tmp
wget http://assets.nagios.com/downloads/ncpa/ncpa.i386.rpm</pre>
</div>
<p>Now that we have our RPM on our system, we simply need to use our package manager to install it. Many commonly used package managers have the ability to install a local package. However, in this example we will the rpm command. If you are using something like <em>yum</em> or <em>zypper</em> you can use that as well:</p>
<div class="highlight-python"><pre>rpm -ivh --nomd5 --nodeps ncpa-head.rpm</pre>
</div>
<p>Now the NCPA services are installed and started.</p>
<p>To test your installation see <a class="reference internal" href="#testing-your-installation">Testing Your Installation</a>.</p>
</div>
<div class="section" id="installing-ncpa-using-deb-packaging">
<h2>Installing NCPA Using DEB Packaging<a class="headerlink" href="#installing-ncpa-using-deb-packaging" title="Permalink to this headline">¶</a></h2>
<p>This section is largely the same. The DEB package must be downloaded to the server you want to monitor, and then it needs to be installed. The latest DEB package is located <a class="reference external" href="http://assets.nagios.com/downloads/ncpa/ncpa.i386.deb">NCPA&#8217;s DEB link</a>, and we will download it using the command line in this example, however you can download it using your user interface, but just keep in mind where you downloaded it to.</p>
<p>Using the command line it would look something like this:</p>
<div class="highlight-python"><pre>cd /tmp
wget http://assets.nagios.com/downloads/ncpa/ncpa.i386.deb</pre>
</div>
<p>Now that we have the DEB on our system, we simply need to install it. You can use any package manager you are comfortable with, but for the sake of portability, this example will use <em>dpkg</em> to install this particular package.</p>
<div class="admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">For those installing this on a 64-bit Debian-based system, this DEB package is a 32-bit package, for the sake of simplicity. This means that you will need to install the <em>ia32-libs</em> package, which is not included in this NCPA distribution, in order to run properly. If there is demand for a 64-bit package, this will be rolled into the NCPA packaging.</p>
</div>
<div class="highlight-python"><pre>dpkg -i ncpa.i386.deb</pre>
</div>
<p>Now the NCPA services are installed and started.</p>
<p>To test your installation see <a class="reference internal" href="#testing-your-installation">Testing Your Installation</a>.</p>
</div>
<div class="section" id="testing-your-installation">
<h2>Testing Your Installation<a class="headerlink" href="#testing-your-installation" title="Permalink to this headline">¶</a></h2>
<p>To ensure that installation was successful, try accessing the web interface of the agent. In order to this you will need to know</p>
<ul class="simple">
<li>The agent&#8217;s IP</li>
<li>The token specified under [api] community_string (This is the <em>token</em> field in the Windows Installer)</li>
</ul>
<p>Once you have these pieces of information you can attempt to connect to the web interface.</p>
<div class="highlight-python"><pre>http://&lt;agent's IP&gt;:5693/api/?token=&lt;token&gt;</pre>
</div>
<p>Where &lt;agent&#8217;s IP&gt; and &lt;token&gt; should be substituted for your agent&#8217;s IP and token, respectively. You should see something that looks like</p>
<div class="highlight-python"><pre>--- snip ---
{
    "value": {
        "root": {
            "process": [],
            "user": {
                "count": 1,
                "list": [
                "nscott"
                ]
            },
            "memory": {
            "swap": {
            "used": [
                8245542912,
                "b"
            ],
--- snip ---</pre>
</div>
<p>This means your installation is working! You can now proceed.</p>
</div>
</div>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
    </p>
    <p>
        &copy; Copyright 2013, Nicholas Scott.<br/>
      Created using <a href="http://sphinx.pocoo.org/">Sphinx</a> 1.2b3.<br/>
    </p>
  </div>
</footer>
  </body>
</html>